.image-with-text.homepage-image-with-text {
  display: flex;
  flex-wrap: wrap;
  padding: 0 $inset;
  max-width: 140rem;

  .image-with-text__image__inner{
    display: block;
  }

  .image-with-text__image__inner{
    display: block;
  }

  .image-with-text__text__inner__cta {
    display: block;
    span {
      line-height: $sans-serif-underline-line-height;
    }
  }

  .image-with-text__text {
    &__inner {
      &__copy, &__cta
       {
        margin: 1.5em 0;
      }

      &__heading {
        margin: .5em 0;
      }
    }
  }
  @include media-query ($small) {
    .image-with-text__image {
      flex: 0 1 100%;
      &__inner {
        width: 100%;
      }
    }

    .image-with-text__text {
      flex: 0 1 100%;
      padding: 0 $inset;
      &__inner {
        :last-child {
          margin-bottom: 0;
        }

        &__heading {
          margin-top: 3 * $v-space;
        }
      }
    }
  }

  @include media-query ($medium-up) {
    align-items: stretch;
    margin-left: auto;
    margin-right: auto;
    &.right {
      flex-direction: row-reverse;
    }

    .image-with-text__image {
      padding: 0 $inset;
      flex: 0 1 55%;
      &__wrapper {
        height: 100%;
        max-height: 50rem;
        position: relative;
        overflow: hidden;
        width: 100%;
        margin: 0 auto;
        &::before {
          content: '';
          position: relative;
          display: block;
          padding-top: 75%;
        }
      }

      &__inner {
        object-fit: contain;
        position: absolute;
        top: 0;
        left: 0;
        display: block;
        width: 100%;
        height: 100%;
      }
    }

    .image-with-text__text {
      flex: 1 1 45%;
      padding: 0 $inset-2;
    }
  }

  @include media-query ($large) {
    .image-with-text__image {
      flex-basis: 52%;
    }
  }

  @include media-query ($large-up) {
    padding: 0 $inset-6;
    .image-with-text__image {
      padding: 0 $inset-2;
    }

    .image-with-text__text {
      padding: 0 $inset-4 0 $inset * 14;
      &__inner {
        max-width: 400px;
        margin: 0 auto;
      }
    }

    &.left {
      .image-with-text__text {
        padding: 0 $inset * 12 0 $inset-6;
      }
    }
  }
}